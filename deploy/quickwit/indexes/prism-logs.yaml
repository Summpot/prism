# Quickwit index for Prism JSON logs coming from Vector.
# Logs are emitted by tracing-subscriber (json) to stdout, collected by Vector, and ingested as NDJSON.

version: 0.7

index_id: prism-logs

doc_mapping:
  mode: dynamic
  field_mappings:
    - name: timestamp
      type: datetime
      fast: true
      input_formats:
        - rfc3339
      fast_precision: seconds
    - name: message
      type: text
      tokenizer: default
      record: position
      stored: true
    - name: level
      type: text
      tokenizer: raw
      stored: true
    - name: target
      type: text
      tokenizer: raw
      stored: true

timestamp_field: timestamp

search_settings:
  default_search_fields: [message]

indexing_settings:
  commit_timeout_secs: 10
